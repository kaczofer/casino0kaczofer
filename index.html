
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>CASH Casino V24 ULTRA</title>
<meta name="viewport" content="width=device-width,initial-scale=1">
<style>
body{margin:0;background:#0b1220;color:#fff;font-family:Arial;display:flex;justify-content:center}
.container{width:460px;margin-top:30px}
.card{background:#0f172a;padding:20px;border-radius:20px;margin-bottom:20px}
button{padding:8px 12px;border:none;border-radius:10px;font-weight:bold;cursor:pointer}
.green{background:#22c55e}.blue{background:#3b82f6}.red{background:#ef4444}
.grid{display:grid;grid-template-columns:repeat(5,1fr);gap:8px;margin-top:15px}
.tile{aspect-ratio:1;background:#1e293b;border-radius:12px;display:flex;align-items:center;justify-content:center;font-size:20px;cursor:pointer}
canvas{background:#0f172a;border-radius:20px;margin-top:10px}
.slots{display:flex;margin-top:10px}
.slot{flex:1;margin:2px;padding:6px 0;text-align:center;border-radius:6px;font-size:11px;font-weight:bold;transition:.3s}
.slot.active{box-shadow:0 0 12px #fff;transform:scale(1.1)}
.redSlot{background:#dc2626}
.orangeSlot{background:#f97316}
.yellowSlot{background:#eab308}
.greenSlot{background:#22c55e}
.graySlot{background:#374151}
</style>
</head>
<body>

<div class="container">

<div class="card" id="authBox">
<h2>CASH Casino</h2>
<input id="u" placeholder="Login"><br><br>
<input id="p" type="password" placeholder="HasÅ‚o"><br><br>
<button class="green" onclick="register()">Register</button>
<button class="blue" onclick="login()">Login</button>
<div id="authError" style="color:red;margin-top:10px"></div>
</div>

<div class="card" id="menu" style="display:none">
<h3>Saldo: $<span id="balance">0</span></h3>
<button class="green" onclick="showMines()">Mines</button>
<button class="blue" onclick="showPlinko()">Plinko</button>
<button class="red" onclick="logout()">Logout</button>
</div>

<div class="card" id="minesBox" style="display:none">
<button class="red" onclick="back()">Back</button>
<h3>Mines ðŸ’£</h3>
Bet: <input id="betM" type="number" value="100"><br><br>
Mines: <input type="range" min="1" max="10" value="5" id="mineSlider"
oninput="mineCount=this.value;mineValue.innerText=this.value">
<span id="mineValue">5</span><br><br>
<button class="green" onclick="startM()">Start</button>
<div>Multiplier: x<span id="mult">1.00</span></div>
<div class="grid" id="grid"></div>
<button class="blue" onclick="cashout()">Cashout</button>
</div>

<div class="card" id="plinkoBox" style="display:none">
<button class="red" onclick="back()">Back</button>
<h3>Plinko ðŸŽ²</h3>
Bet: <input id="betP" type="number" value="100">
<button class="green" onclick="dropBall()">Drop</button>
<canvas id="plinkoCanvas" width="420" height="400"></canvas>
<div class="slots" id="slots"></div>
</div>

</div>

<script>
let currentUser=null;
let minePositions=[],gameActive=false,bet=0,revealed=0,mineCount=5;

function saveUsers(users){localStorage.setItem("users",JSON.stringify(users))}
function getUsers(){return JSON.parse(localStorage.getItem("users")||"{}")}

function register(){
 let users=getUsers();
 if(users[u.value]){authError.innerText="User exists";return}
 users[u.value]={password:p.value,balance:1000}
 saveUsers(users)
 authError.innerText="Registered!"
}

function login(){
 let users=getUsers();
 if(!users[u.value]||users[u.value].password!==p.value){
  authError.innerText="Wrong login";return}
 currentUser=u.value;
 authBox.style.display="none";
 menu.style.display="block";
 loadBalance();
}

function logout(){location.reload()}

function loadBalance(){
 let users=getUsers();
 balance.innerText=users[currentUser].balance
}

function updateBalance(amount){
 let users=getUsers();
 users[currentUser].balance+=amount;
 saveUsers(users);
 loadBalance();
}

function back(){
 minesBox.style.display="none";
 plinkoBox.style.display="none";
 menu.style.display="block";
}

// MINES
function showMines(){menu.style.display="none";minesBox.style.display="block";createGrid()}

function createGrid(){
 grid.innerHTML="";
 for(let i=0;i<25;i++){
  let t=document.createElement("div");
  t.className="tile";
  t.onclick=()=>clickTile(t,i);
  grid.appendChild(t);
 }
}

function startM(){
 bet=+betM.value;
 if(!bet||bet<=0)return;
 updateBalance(-bet);
 minePositions=[];
 revealed=0;
 gameActive=true;
 mult.innerText="1.00";
 createGrid();
 while(minePositions.length<mineCount){
  let r=Math.floor(Math.random()*25);
  if(!minePositions.includes(r))minePositions.push(r);
 }
}

function calculateMult(){
 const total=25;
 const safe=total-mineCount;
 if(revealed===0)return 1;
 return (total/(safe-revealed+1)).toFixed(2);
}

function clickTile(tile,i){
 if(!gameActive)return;
 if(minePositions.includes(i)){
  tile.innerText="ðŸ’£";
  tile.style.background="#dc2626";
  gameActive=false;
 }else{
  tile.innerText="ðŸ’Ž";
  tile.style.background="#16a34a";
  revealed++;
  mult.innerText=calculateMult();
 }
}

function cashout(){
 if(!gameActive)return;
 let win=Math.floor(bet*parseFloat(mult.innerText));
 updateBalance(win);
 gameActive=false;
 createGrid();
 mult.innerText="1.00";
}

// PLINKO
const multipliers=[0.5,1,1.5,2,3,5,3,2,1.5,1,0.5];

function renderSlots(){
 slots.innerHTML="";
 multipliers.forEach((v,i)=>{
   let div=document.createElement("div");
   div.className="slot "+(v>=5?"redSlot":v>=3?"orangeSlot":v>=2?"yellowSlot":v>=1?"greenSlot":"graySlot");
   div.innerText="x"+v;
   div.id="slot-"+i;
   slots.appendChild(div);
 })
}
renderSlots();

function dropBall(){
 let bet2=+betP.value;
 if(!bet2||bet2<=0)return;
 updateBalance(-bet2);

 const canvas=document.getElementById("plinkoCanvas");
 const ctx=canvas.getContext("2d");

 let pins=[];
 for(let row=0;row<9;row++){
   for(let col=0;col<=row;col++){
     pins.push({
       x:210-row*20+col*40,
       y:50+row*30
     });
   }
 }

 let slotIndex=Math.floor(Math.random()*multipliers.length);
 let targetX=(420/multipliers.length)*slotIndex + (420/multipliers.length)/2;

 let ball={x:210,y:0,vx:0,vy:0};

 function drawPins(){
   ctx.fillStyle="#ffffff";
   pins.forEach(p=>{
     ctx.beginPath();
     ctx.arc(p.x,p.y,3,0,Math.PI*2);
     ctx.fill();
   });
 }

 function animate(){
   ctx.clearRect(0,0,420,400);
   drawPins();

   ball.vy+=0.15;
   ball.y+=ball.vy;
   ball.vx+=(targetX-ball.x)*0.0008;
   ball.x+=ball.vx;

   pins.forEach(p=>{
     let dx=ball.x-p.x;
     let dy=ball.y-p.y;
     let dist=Math.sqrt(dx*dx+dy*dy);
     if(dist<8){
       ball.vx+=(Math.random()*2-1)*1.2;
       ball.vy*=-0.2;
     }
   });

   ctx.beginPath();
   ctx.arc(ball.x,ball.y,8,0,Math.PI*2);
   ctx.fillStyle="#22c55e";
   ctx.fill();

   if(ball.y<360){
     requestAnimationFrame(animate);
   }else{
     document.querySelectorAll(".slot").forEach(s=>s.classList.remove("active"));
     document.getElementById("slot-"+slotIndex).classList.add("active");
     let win=Math.floor(bet2*multipliers[slotIndex]);
     updateBalance(win);
   }
 }

 animate();
}
</script>

</body>
</html>
